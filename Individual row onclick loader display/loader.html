<!DOCTYPE html>
<html>
<head>
<title></title>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<style>
   
.variation_load {
  position: fixed;
  width: 100%;
  display: flex;
  align-items:center;
  justify-content: center;
  z-index: 999;
}

.variation_load_tr{
    position: relative;
}

.variation_load{
    position: absolute;
}

.spin_loading {
    display: flex;
}
.spin_loading .dot {
    position: relative;
    width: 2em;
    height: 2em;
    margin: 0.8em;
    border-radius: 50%;
}
.spin_loading .dot::before {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    background: inherit;
    border-radius: inherit;
    animation: wave 2s ease-out infinite;
}
.spin_loading .dot:nth-child(1) {
    background: #7ef9ff;
}
.spin_loading .dot:nth-child(1)::before {
    animation-delay: 0.2s;
}
.spin_loading .dot:nth-child(2) {
    background: #89cff0;
}
.spin_loading .dot:nth-child(2)::before {
    animation-delay: 0.4s;
}
.spin_loading .dot:nth-child(3) {
    background: #4682b4;
}
.spin_loading .dot:nth-child(3)::before {
    animation-delay: 0.6s;
}
.spin_loading .dot:nth-child(4) {
    background: #0f52ba;
}
.spin_loading .dot:nth-child(4)::before {
    animation-delay: 0.8s;
}
.spin_loading .dot:nth-child(5) {
    background: #000080;
}
.spin_loading .dot:nth-child(5)::before {
    animation-delay: 1s;
}

@keyframes wave {
    50%, 75% {
        transform: scale(2.5);
    }
    80%, 100% {
        opacity: 0;
    }
}
table{
    width: 100%;
}
table thead tr th {
    padding: 10px;
    text-align: center;
}
table tbody tr td {
    padding: 50px;
    text-align: center;
}
table thead th {
    border-top: 1px solid black;
    border-bottom: 1px solid black;
} 

table tbody tr td{
    border-top: 1px solid black;
    border-bottom: 1px solid black;
}

</style>
</head>
<body>



<!---------------------------ON OFF SWITCH BUTTON AREA------------------------>
<!--------------------------------------------------------------------------->

<div class="row content-inner mt-2 mb-2">
    <div class="col-md-4">
        <div class="d-flex align-items-center">
            <div class="onoffswitch">
                <input type="checkbox" name="id" class="onoffswitch-checkbox" id="id" tabindex="0"  checked >
                <label class="onoffswitch-label" for="id">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
            </div>
            <div class="ml-1"><p>ID</p></div>
        </div>
        <div class="d-flex align-items-center mt-2">
            <div class="onoffswitch">
                <input type="checkbox" name="catalogue_id" class="onoffswitch-checkbox" id="catalogue_id" tabindex="0"  checked >
                <label class="onoffswitch-label" for="catalogue_id">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
            </div>
            <div class="ml-1"><p>Catalogue ID</p></div>
        </div>
        <div class="d-flex align-items-center mt-2 mt-xs-10">
            <div class="onoffswitch">
                <input type="checkbox" name="Product_name" class="onoffswitch-checkbox" id="Product_name" tabindex="0"  checked >
                <label class="onoffswitch-label" for="Product_name">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
            </div>
            <div class="ml-1"><p>Product Name</p></div>
        </div>
        <div class="d-flex align-items-center mt-2">
            <div class="onoffswitch">
                <input type="checkbox" name="category" class="onoffswitch-checkbox" id="category" tabindex="0" checked >
                <label class="onoffswitch-label" for="category">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
            </div>
            <div class="ml-1"><p>Category</p></div>
        </div>
        <div class="d-flex align-items-center mt-2">
            <div class="onoffswitch">
                <input type="checkbox" name="account" class="onoffswitch-checkbox" id="account" tabindex="0" checked >
                <label class="onoffswitch-label" for="account">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
            </div>
            <div class="ml-1"><p>Account</p></div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="d-flex align-items-center">
            <div class="onoffswitch">
                <input type="checkbox" name="sku" class="onoffswitch-checkbox" id="sku" tabindex="0"  checked >
                <label class="onoffswitch-label" for="sku">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
            </div>
            <div class="ml-1"><p>SKU</p></div>
        </div>
        <div class="d-flex align-items-center mt-2">
            <div class="onoffswitch">
                <input type="checkbox" name="start_price" class="onoffswitch-checkbox" id="start_price" tabindex="0"  checked >
                <label class="onoffswitch-label" for="start_price">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
            </div>
            <div class="ml-1"><p>Start Price</p></div>
        </div>
        <div class="d-flex align-items-center mt-2">
            <div class="onoffswitch">
                <input type="checkbox" name="quantity" class="onoffswitch-checkbox" id="quantity" tabindex="0"  checked >
                <label class="onoffswitch-label" for="quantity">
                    <span class="onoffswitch-inner"></span>
                    <span class="onoffswitch-switch"></span>
                </label>
            </div>
            <div class="ml-1"><p>Quantity</p></div>
        </div>
    </div>

    
</div>


<!---------------------------END ON OFF SWITCH BUTTON AREA------------------------>
<!--------------------------------------------------------------------------->


    <div style="margin-top: 40px;">
        <table style="border-collapse:collapse;">
            <thead>
                <th class="id">Id</th>
                <th class="catalogue_id">Catalogue ID</th>
                <th class="Product_name">Product Name</th>
                <th class="category">Catagory</th>
                <th class="account">Account</th>
            </thead>
            <tbody>
                  <tr class="variation_load_tr" style="cursor: pointer;">
                    
                    <td class="id" data-toggle="collapse" onclick="getVariation(this,0)" data-target="#demo1" class="accordion-toggle">
                        <div id="product_variation_loading0" class="variation_load" style="display: none;">
                            <div class="spin_loading">
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                            </div>
                        </div>
                        15424181
                    </td>
                    <td class="catalogue_id" data-toggle="collapse" onclick="getVariation(this,0)" data-target="#demo1" class="accordion-toggle">13463</td>
                    <td class="Product_name" data-toggle="collapse" onclick="getVariation(this,0)" data-target="#demo1" class="accordion-toggle">DIESEL BLACK GOLD JIPLAID Mens Parka</td>
                    <td class="category" data-toggle="collapse" onclick="getVariation(this,0)" data-target="#demo1" class="accordion-toggle">Clothing, Shoes & Accessories>Men>Men's</td>
                    <td class="account" data-toggle="collapse" onclick="getVariation(this,0)" data-target="#demo1" class="accordion-toggle">Topbrand</td>
                  </tr>
        
                  <!--hidden row -->
                  <tr>
                    <td colspan="13" class="hiddenRow" style="padding: 0; background-color: #ccc">
                        <div class="accordian-body collapse" id="demo1">
                            <table>
                                <thead>
                                    <tr>
                                        <th class="sku">SKU</th>
                                        <th class="start_price">start Price</th>
                                        <th class="quantity">Quantity</th>
                                    </tr> 
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="sku">B7-1306</td>
                                        <td class="start_price">20.99</td>
                                        <td class="quantity">3</td>
                                      </tr>
                                      <tr>
                                        <td class="sku">B7-1307</td>
                                        <td class="start_price">20.99</td>
                                        <td class="quantity">5</td>
                                      </tr>
                                </tbody>
                              </table>
                        </div> 
                    </td>
                  </tr>
                  <!--end hidden row -->
        
                  <tr>
                    
                    <td class="id" data-toggle="collapse"  style="cursor: pointer;" onclick="getVariation(this,1)" data-target="#demo2" class="accordion-toggle">
                        <div id="product_variation_loading1" class="variation_load" style="display: none;">
                            <div class="spin_loading">
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                                <div class="dot"></div>
                            </div>
                        </div>
                        15424182
                    </td>
                    <td class="catalogue_id" data-toggle="collapse"  style="cursor: pointer;" onclick="getVariation(this,1)" data-target="#demo2" class="accordion-toggle">13464</td>
                    <td class="Product_name" data-toggle="collapse"  style="cursor: pointer;" onclick="getVariation(this,1)" data-target="#demo2" class="accordion-toggle">DIESEL BLACK GOLD JIPLAID Mens </td>
                    <td class="category" data-toggle="collapse"  style="cursor: pointer;" onclick="getVariation(this,1)" data-target="#demo2" class="accordion-toggle">Clothing, Shoes & Accessories>Men>Men's</td>
                    <td class="account" data-toggle="collapse"  style="cursor: pointer;" onclick="getVariation(this,1)" data-target="#demo2" class="accordion-toggle">Topbrand</td>
                  </tr>
        
                  <!--hidden row -->
                  <tr>
                    <td colspan="13" class="hiddenRow" style="padding: 0; background-color: #ccc">
                        <div class="accordian-body collapse" id="demo2">
                            <table>
                                <thead>
                                    <tr>
                                        <th class="sku">SKU</th>
                                        <th class="start_price">Start Price</th>
                                        <th class="quantity">Quantity</th>
                                    </tr> 
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="sku">B7-1308</td>
                                        <td class="start_price">129.99</td>
                                        <td class="quantity">1</td>
                                      </tr>
                                      <tr>
                                        <td class="sku">B7-1309</td>
                                        <td class="start_price">129.99</td>
                                        <td class="quantity">2</td>
                                      </tr>
                                </tbody>
                              </table>
                        </div> 
                    </td>
                  </tr>
                  <!--end hidden row -->
        
            </tbody>
          </table>
        </div>
    


<script>

    $('.accordian-body').on('show.bs.collapse', function () {
        $(this).closest("table")
            .find(".collapse.in")
            .not(this)
            .collapse('toggle')
        })


        function getVariation(obj,id){
        $('.variation_load').hide();
        $.ajax({
            type: "post",
            url: "{{url('get-ebay-variation')}}",
            data: {
                "_token" : "{{csrf_token()}}",
            },
            beforeSend: function () {
                $('#product_variation_loading'+id).show();
            },

            complete: function () {
                $('#product_variation_loading'+id).hide();
            }
        })
    }


       // table column hide and show toggle checkbox
       $("input:checkbox").click(function(){
            let column = "."+$(this).attr("name");
            $(column).toggle();
        });


        //table column by default hide
        $("input:checkbox:not(:checked)").each(function() {
            var column = "table ." + $(this).attr("name");
            $(column).hide();
        });



</script>

</body>
</html>